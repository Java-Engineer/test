<!DOCTYPE html>
<html>
<head>
<title>笔记</title>
<!-- for-mobile-apps -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Optometry Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
		function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- //for-mobile-apps -->
<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<!-- js -->
<script src="js/jquery-1.11.1.min.js"></script>
<script src="datas/select.js"></script>
<script src="js/common.js"></script>
<script src="js/pagination.js"></script>
<!-- //js -->
<link href='https://fonts.googleapis.com/css?family=Ubuntu:400,300,300italic,400italic,500,500italic,700,700italic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Raleway:400,100,200,300,500,600,700,800,900' rel='stylesheet' type='text/css'>
</head>
	
<body>
<!-- header -->
	<div id="header"></div>
<!-- //header -->
<!-- banner -->
<!-- //banner -->
<!-- blog -->
	<div class="blog">
		<div class="container">
			<div class="col-md-9 blog-left" id="notes">

			</div>
			
			<div class="col-md-3 blog-right">
				<div class="blog-right1">
					<div class="search">
						<h3>搜索关键字</h3>
						<form>
							<input type="text" id="keyword" name="keyword" placeholder="输入关键字">
							<input type="button" onclick="search()" value="搜索">
						</form>
					</div>
					<div class="categories">
						<h3>标签</h3>	
						<div id="tags"></div>
					</div>
					<div class="categories categories-mid">
						<h3>常用工具</h3>	
						<ul>
							<li><a href="notesChange.html" target="_blank">内容转换【笔记】</a></li>
							<li><a href="http://cron.qqe2.com/" target="_blank">cron 表达式</a></li>
							<li><a href="https://www.sojson.com/rehtml" target="_blank">JSON 校验</a></li>
							<li><a href="http://fontawesome.com/" target="_blank">字体图标</a></li>
							<li><a href="http://www.atool.org/colorpicker.php" target="_blank">在线颜色选择器</a></li>
							<li><a href="#" target="_blank">September 18,2015</a></li>
						</ul>
					</div>
				</div>
			</div>
			<div class="clearfix"> </div>
			<!-- 分页 -->
			<div class="col-md-9" style="text-align:center" id="pagination"></div>
		</div>
	</div>
<!-- //blog -->
<!-- footer -->
	<div id="footer"></div>
<!--//footer-->
	<!-- 模态框（Modal） -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" 
							aria-hidden="true">×
					</button>
					<h4 class="modal-title" id="myModalLabel">
						提示信息
					</h4>
				</div>
				<div class="modal-body">
					暂未找到任何数据
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-dismiss="modal">
						确定
					</button>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

<!-- for bootstrap working -->
	<script src="js/bootstrap.js"> </script>
	<script src="datas/notes.js"></script>
	<script type="text/javascript">
		$(function(){
			
			dataInit(notes);
			tagsInit();
		});
	
		//关键字搜索
		function search(){
			var keyword = $("#keyword").val();
			//非空判断
			if(keyword != null && keyword != ''){
				var data = [];
				for(var i = 0 ; i < notes.length ; i++){	
					if(notes[i].title.indexOf(keyword) >= 0){
						data.push(notes[i]);
					}
				}
				if(data.length>0){
					dataInit(data);
				}else{
					$("#myModal").modal('show');
				}
			}else{
				dataInit(notes);
			}
		}
		//标签初始
		function tagsInit(){
			var htm = [];
			for(var i = 0 ; i < tags.length ; i++){
				//随机取样式
				var num = Math.floor(Math.random()*tagsBtn.length);
				htm.push('<button type="button" class="btn '+tagsBtn[num].css+ ' space" onclick="tagsSearch('+i+')">'+tags[i].text+'</button>');
			
			}
			$("#tags").html(htm.join(""));
		
		}
		
		//标签匹配
		function tagsSearch(tag){

			var data = [];
			for(var i = 0 ; i < notes.length ; i++){	
				if(notes[i].tags == tag){
					data.push(notes[i]);
				}
			}
			if(data.length>0){
				dataInit(data);
			}else{
				$("#myModal").modal('show');
			}
		
		}
		
		//数据初始化
		function dataInit(notes){
			var htm = [];
			//var notes = initpage(notes,5);
			for(var i = notes.length-1 ; i >= 0 ; i--){
				var id = parseInt(notes[i].tags);
				var tag = tags[id].text;
				//console.log(tags[id]);
				htm.push('<div class="blog-left-grid">');
				htm.push('<h4><a href="notesDetail.html?index='+notes[i].id+'">'+notes[i].title+'</a></h4>');
				htm.push('<ul>');
				htm.push('<li><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>'+notes[i].time+'</li>');
				htm.push('<li><a href="#"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>'+notes[i].num+'</a></li>');
				htm.push('<li><a href="#"><span class="glyphicon glyphicon-user" aria-hidden="true"></span>'+notes[i].user+'</a></li>');
				htm.push('<li><a href="#"><span class="glyphicon glyphicon-tags" aria-hidden="true"></span>'+tag+'</a></li>');
				htm.push('</ul>');
				htm.push('<p class="lead">'+notes[i].lead+'</p>');
				htm.push('<div class="more">');
				htm.push('<a href="notesDetail.html?index='+notes[i].id+'" class="hvr-curl-bottom-right">阅读更多</a>');
				htm.push('</div>');	
				htm.push('</div>');							
			}
			$("#notes").html(htm.join(" "));
		}
		
	</script>
<!-- //for bootstrap working -->
</body>
</html>